"use strict";(self.webpackChunkxpanse_website=self.webpackChunkxpanse_website||[]).push([[7653],{6328:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"Contribute/pull-requests","title":"Pull Requests","description":"All changes to source code is possible only via Pull Requests on GitHub.","source":"@site/docs/Contribute/pull-requests.mdx","sourceDirName":"Contribute","slug":"/Contribute/pull-requests","permalink":"/xpanse/docs/Contribute/pull-requests","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Continuous Integration","permalink":"/xpanse/docs/Contribute/continuous-integration"},"next":{"title":"Releases","permalink":"/xpanse/docs/Contribute/releases"}}');var r=t(4848),i=t(8453),l=t(7346);const o={},a="Pull Requests",c={},u=[{value:"Things to remember",id:"things-to-remember",level:2},{value:"Running Linters",id:"running-linters",level:2},{value:"Java Applications",id:"java-applications",level:3},{value:"UI",id:"ui",level:3},{value:"Website",id:"website",level:3}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pull-requests",children:"Pull Requests"})}),"\n",(0,r.jsxs)(n.p,{children:["All changes to source code is possible only via ",(0,r.jsx)(n.code,{children:"Pull Requests"})," on GitHub."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Every pull request should be "linked" to an issue.'}),"\n",(0,r.jsxs)(n.li,{children:["Create your own fork of the repository that you wish you work on that. ",(0,r.jsx)(l.A,{name:"How to fork?",url:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo#forking-a-repository"})]}),"\n",(0,r.jsxs)(n.li,{children:["Clone the fork - ",(0,r.jsx)(l.A,{name:"How to clone?",url:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo#cloning-your-forked-repository"})]}),"\n",(0,r.jsxs)(n.li,{children:["Create a feature branch using ",(0,r.jsx)(n.strong,{children:"git checkout"})," command."]}),"\n",(0,r.jsx)(n.li,{children:"Push changes to your feature branch."}),"\n",(0,r.jsxs)(n.li,{children:["Open Pull Request on the upstream repository for review and merge. ",(0,r.jsx)(l.A,{name:"How to create a PR?.",url:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# replace the URL with your correct clone URL.\n$ git clone https://github.com/${github_user}/xpanse\ngit fetch --all\ngit checkout -b feature/my-branch\n\n# Make your code changes.\n\n# State your changes.\ngit add .\n# Commit your changes.\ngit commit -m 'give a valid commit message'\n# Push changes.\ngit push -u origin feature/my-branch\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Multiple entry points to create PR",type:"info",children:(0,r.jsx)(n.p,{children:"Once the fork is created, rest of the steps such as cloning the repository, creating feature branch, pushing to feature branch\nand creating PRs can be done via IDE, CLI, API, etc."})}),"\n",(0,r.jsx)(n.h2,{id:"things-to-remember",children:"Things to remember"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Don't forget to periodically sync your fork with the upstream repository. ",(0,r.jsx)(l.A,{name:"How to sync a fork?",url:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork"})]}),"\n",(0,r.jsxs)(n.li,{children:["Don't forget to periodically rebase your branch ",(0,r.jsx)(n.code,{children:"git rebase -i origin/main"})]}),"\n",(0,r.jsx)(n.li,{children:"If you have a group of commits related to the same change, please squash your commits into one and force push to your branch."}),"\n",(0,r.jsx)(n.li,{children:"Test that your change works by adapting or adding tests."}),"\n",(0,r.jsx)(n.li,{children:'Follow the boy scout rule to "Always leave the campground cleaner than you found it."'}),"\n",(0,r.jsx)(n.li,{children:"Build your changes,\nIn case of all Java applications, make sure you do a build before doing a PR. and the build has to be successful"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"  $ mvn clean verify\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In case of xpanse UI and website, make sure the application starts without any errors and warnings:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"  $ npm run start\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If your PR has conflicts with the main then rebase the branch. PRs with conflicts are unlikely to be applied"}),"\n",(0,r.jsx)(n.li,{children:"Don't change too much in a PR. The smaller the PR the easier it's to review, apply and the faster it will be done"}),"\n",(0,r.jsx)(n.li,{children:"Even if we're monitoring closely the PR, if you think your PR doesn't move forward fast enough, don't hesitate to\nping in a PR comment to get some update."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"running-linters",children:"Running Linters"}),"\n",(0,r.jsx)(n.p,{children:"To ensure best code practices and uniformity within the community,\nwe've different static code checkers, linters and code formatters used.\nThe PR GitHub actions will fail if any of these checks fail.\nHence, the developer must run these checks locally once and fix the errors highlights before pushing changes to origin."}),"\n",(0,r.jsx)(n.h3,{id:"java-applications",children:"Java Applications"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Checkstyle."}),"\n",(0,r.jsx)(n.li,{children:"Spotless."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mvn spotless:check &&  mvn checkstyle:check\n\n# If spotless reports any errors, they can be auto corrected with the below command.\nmvn spotless:apply\n\n# If checkstyle reports any errors, they must be manually fixed by the developer.\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ui",children:"UI"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Prettier"}),"\n",(0,r.jsx)(n.li,{children:"ES Lint"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Prettier to automatically format all files.\nnpx prettier --config .prettierrc --write .\n\n# ES Lint static checks will report errors if any and must be fixed manually.\nnpx eslint . --max-warnings=0\n\n# Typescript compiler will report any TypeScript errors and must be fixed manually.\ntsc\n"})}),"\n",(0,r.jsx)(n.h3,{id:"website",children:"Website"}),"\n",(0,r.jsxs)(n.p,{children:["In addition to the above linters mentioned in the UI, website uses ",(0,r.jsx)(n.strong,{children:"vale"})," linter for grammar and spell checks."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Errors reported by vale linter must be fixed manually.\n docker run --rm -v $(pwd)/.github/vale/styles:/styles --pull=always --rm -v $(pwd):/docs -w /docs jdkato/vale .\n"})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},7346:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var s=t(4848);function r(e){let{name:n,url:t,isOpenInNewTab:r=!0}=e;return(0,s.jsx)("a",{href:t,className:"link-text",target:r?"_blank":"_self",children:n})}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);