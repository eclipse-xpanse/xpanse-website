<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-service-configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Service Configuration | xpanse</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://eclipse.dev/xpanse/docs/service-configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Service Configuration | xpanse"><meta data-rh="true" name="description" content="Service configuration refers to the application configuration parameters that control the behaviour of the service."><meta data-rh="true" property="og:description" content="Service configuration refers to the application configuration parameters that control the behaviour of the service."><link data-rh="true" rel="icon" href="/xpanse/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://eclipse.dev/xpanse/docs/service-configuration"><link data-rh="true" rel="alternate" href="https://eclipse.dev/xpanse/docs/service-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://eclipse.dev/xpanse/docs/service-configuration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Service Configuration","item":"https://eclipse.dev/xpanse/docs/service-configuration"}]}</script><link rel="alternate" type="application/rss+xml" href="/xpanse/blog/rss.xml" title="xpanse RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/xpanse/blog/atom.xml" title="xpanse Atom Feed"><link rel="stylesheet" href="/xpanse/assets/css/styles.a7ac12c4.css">
<script src="/xpanse/assets/js/runtime~main.e3adf977.js" defer="defer"></script>
<script src="/xpanse/assets/js/main.af7356e5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/xpanse/img/logo-header.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" role="banner"><div class="content_knG7 announcementBarContent_xLdY">üóìÔ∏è Our open office hour sessions happens 2nd Wednesday of every month. <a target="_blank" rel="noopener noreferrer" href="https://calendar.google.com/calendar/event?action=TEMPLATE&tmeid=NGM3cG43cnAxMWoxdmNzNGgwb2twMTE0dTRfMjAyNTAzMTJUMDkwMDAwWiA1NzcyZTg5MTNlNGI0YTllNTIzMWRmMDQ5ZDY1MzViNzY0MTEyNGE3ODY4N2VkODY3NGM2YjI5MzYwNTAzNGUyQGc&tmsrc=5772e8913e4b4a9e5231df049d6535b7641124a78687ed8674c6b293605034e2%40group.calendar.google.com&scp=ALL">Join us</a> to learn about our roadmap and how to contribute ü§ù.</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xpanse/"><div class="navbar__logo"><img src="/xpanse/img/logo-header.png" alt="xpanse" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/xpanse/img/logo-header.png" alt="xpanse" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/xpanse/docs/introduction">Documentation</a><a href="https://app.swaggerhub.com/apis/eclipse-xpanse-bot/XpanseRuntimeApi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.youtube.com/playlist?list=PLy7t4z5SYNaTpG7zDP4u4icR356zNUJUC" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link"></a><a class="navbar__item navbar__link header-calender-link" href="/xpanse/docs/Contribute/calendar"></a><a href="https://github.com/eclipse-xpanse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://matrix.to/#/#eclipse-xpanse:matrix.eclipse.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-matrix-link"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/introduction"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/agent"><span title="Agent" class="linkLabel_WmDU">Agent</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/api"><span title="API" class="linkLabel_WmDU">API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/architecture"><span title="Architecture" class="linkLabel_WmDU">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/authentication-authorization"><span title="Authentication and Authorization" class="linkLabel_WmDU">Authentication and Authorization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/configuration-language"><span title="Configuration Language" class="linkLabel_WmDU">Configuration Language</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/cloud-provider-credentials"><span title="Cloud Provider Credentials" class="linkLabel_WmDU">Cloud Provider Credentials</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/caching"><span title="Caching" class="linkLabel_WmDU">Caching</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/database-schema-evolution"><span title="Database Schema Evolution" class="linkLabel_WmDU">Database Schema Evolution</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/database"><span title="Database" class="linkLabel_WmDU">Database</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/developer-setup"><span title="Developer Setup" class="linkLabel_WmDU">Developer Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/modes"><span title="Modes" class="linkLabel_WmDU">Modes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/network-proxy"><span title="Network Proxy" class="linkLabel_WmDU">Network Proxy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/observability"><span title="Observability" class="linkLabel_WmDU">Observability</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/package-structure"><span title="Package Structure" class="linkLabel_WmDU">Package Structure</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/plugins"><span title="Plugins" class="linkLabel_WmDU">Plugins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/policies"><span title="Policies" class="linkLabel_WmDU">Policies</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/production"><span title="Running in Production" class="linkLabel_WmDU">Running in Production</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/request-audit"><span title="Request Audit" class="linkLabel_WmDU">Request Audit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/senstive-data"><span title="Sensitive Data" class="linkLabel_WmDU">Sensitive Data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/service-changes"><span title="Service Changes" class="linkLabel_WmDU">Service Changes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/xpanse/docs/service-configuration"><span title="Service Configuration" class="linkLabel_WmDU">Service Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/service-deployment"><span title="Service Deployment" class="linkLabel_WmDU">Service Deployment</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/service-hosting"><span title="Service Hosting Types" class="linkLabel_WmDU">Service Hosting Types</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/service-portability"><span title="Service Portability" class="linkLabel_WmDU">Service Portability</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/service-template-reviews"><span title="Service Template Reviews" class="linkLabel_WmDU">Service Template Reviews</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/spring-profiles"><span title="Spring Profiles" class="linkLabel_WmDU">Spring Profiles</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/supported-clouds"><span title="Supported Clouds" class="linkLabel_WmDU">Supported Clouds</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/ui"><span title="UI" class="linkLabel_WmDU">UI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/webhooks"><span title="Webhooks" class="linkLabel_WmDU">Webhooks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/workflows"><span title="Workflows" class="linkLabel_WmDU">Workflows</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/xpanse/docs/Contribute/new-developers"><span title="Contribute" class="categoryLinkLabel_W154">Contribute</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/xpanse/docs/FurtherReading/resources"><span title="FurtherReading" class="categoryLinkLabel_W154">FurtherReading</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/xpanse/docs/Roles/isv"><span title="Roles" class="categoryLinkLabel_W154">Roles</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/xpanse/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Service Configuration</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Service Configuration</h1></header>
<p>Service configuration refers to the application configuration parameters that control the behaviour of the service.</p>
<p>In xpanse, such configuration parameters which that can be changed by the end user must be exposed by the ISV in the
corresponding service template and also provide necessary scripts to update the configuration.</p>
<p><img decoding="async" loading="lazy" alt="service configuration high level architecture" src="/xpanse/assets/images/service-configuration-high-level.excalidraw-c0528aec6d759ec4f9335739a39c5b8b.png" width="1758" height="725" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-configuration-details-in-service-template">Service Configuration Details in Service Template<a href="#service-configuration-details-in-service-template" class="hash-link" aria-label="Direct link to Service Configuration Details in Service Template" title="Direct link to Service Configuration Details in Service Template" translate="no">‚Äã</a></h2>
<p>Services that would like to allow end users to change service configuration after the service is deployed must provide
the following information in the service template.</p>
<p><img decoding="async" loading="lazy" alt="service configuration high level architecture" src="/xpanse/assets/images/service-configuration-in-template.excalidraw-18ee846b3326003833d27543ed7bafcf.png" width="919" height="426" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-managers">Configuration Managers<a href="#configuration-managers" class="hash-link" aria-label="Direct link to Configuration Managers" title="Direct link to Configuration Managers" translate="no">‚Äã</a></h3>
<p>Configuration manager is nothing but a compute <strong>component</strong> in the service deployment.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Example of Configuration Manager</div><div class="admonitionContent_BuS1"><p>In case of a service like Kafka, it consists of multiple components such as zookeeper and broker,
So the configuration manager in this case can either be zookeeper or broker.</p></div></div>
<p>For every configuration manager, the ISV must declare the location of the scripts, the script name, dependencies, etc
in the service template.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-parameters">Configuration Parameters<a href="#configuration-parameters" class="hash-link" aria-label="Direct link to Configuration Parameters" title="Direct link to Configuration Parameters" translate="no">‚Äã</a></h3>
<p>Configurable service parameters must be listed in the service template. For each configuration parameter,
details such as name, description, default, value, configuration manager name (see above) must be provided.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Relation between configuration parameter and manager</div><div class="admonitionContent_BuS1"><ol>
<li>A service template can have 0<!-- -->:N<!-- --> configuration parameters.</li>
<li>For each configuration parameter, there must be 1:1 configuration manager.</li>
<li>For each service that multiple parameters, there must be 1<!-- -->:N<!-- --> configuration managers.</li>
</ol></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-configuration-manager">Single Configuration Manager<a href="#single-configuration-manager" class="hash-link" aria-label="Direct link to Single Configuration Manager" title="Direct link to Single Configuration Manager" translate="no">‚Äã</a></h3>
<p>For the below use cases, there would be just one single configuration manager.
All configuration parameters in the service template will refer to this single configuration manager.</p>
<ul>
<li>When the service contains only one component. Example a simple database that runs inside a single VM.</li>
<li>When the service contains multiple components but the configuration update script is implemented in such a way
that it just executes on component, and it automatically connects to other components to update changes.</li>
<li>When the service contains multiple components but only central component such as <code>etcd</code> manages configuration
for all components.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-manager-in-deployment-script">Configuration Manager in Deployment Script<a href="#configuration-manager-in-deployment-script" class="hash-link" aria-label="Direct link to Configuration Manager in Deployment Script" title="Direct link to Configuration Manager in Deployment Script" translate="no">‚Äã</a></h2>
<p>Since a configuration manager is just a component in the service deployment itself,
we must ensure that service deployment script creates a component with this name.
Otherwise, the service template validation will fail.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Configuration manager in HCL</div><div class="admonitionContent_BuS1"><p>When we define the deployment script using HCL which is used by Terraform and OpenTofu deployers,
the name of the configuration manager must also be the label assigned to the compute resource of that service component.</p><p>In the below example, &quot;zookeeper&quot; can be used as a valid configuration manager in the service template</p><div class="language-terraform codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-terraform codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    resource &quot;openstack_compute_instance_v2&quot; &quot;zookeeper&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    availability_zone  = local.availability_zone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name               = &quot;ecs-tf-${random_id.new.hex}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flavor_name          = var.flavor_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    security_groups    = [ local.secgroup_name ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image_id           = data.openstack_images_image_v2.image.id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    admin_pass         = local.admin_passwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    network {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid = local.vpc_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-installation">Agent Installation<a href="#agent-installation" class="hash-link" aria-label="Direct link to Agent Installation" title="Direct link to Agent Installation" translate="no">‚Äã</a></h3>
<p>Every component which is also acts as a configuration manager,
must install the xpanse agent as part of its resource creation.</p>
<p>Read more about xpanse agents <a href="./agent" class="link-text" target="_blank">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="runonlyonce-parameter">runOnlyOnce Parameter<a href="#runonlyonce-parameter" class="hash-link" aria-label="Direct link to runOnlyOnce Parameter" title="Direct link to runOnlyOnce Parameter" translate="no">‚Äã</a></h2>
<p><strong>runOnlyOnce</strong> parameter is used to define when multiple instance of a <strong>component</strong> of the service exists but
the configuration update should be executed on only one of them.</p>
<p>This means the configuration change will be</p>
<ol>
<li>either be automatically synced to other instances of the component or</li>
<li>the configuration update job on one instance connects to all other instances and
makes the necessary configuration changes.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="default-configuration">Default Configuration<a href="#default-configuration" class="hash-link" aria-label="Direct link to Default Configuration" title="Direct link to Default Configuration" translate="no">‚Äã</a></h2>
<p>When the service is first created, the default value of each of the configuration parameter is stored as the current
configuration of the service in the xpanse database. Any further changes to the configuration of the service will be
based on this default configuration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-configuration-update-tools">Supported Configuration Update Tools<a href="#supported-configuration-update-tools" class="hash-link" aria-label="Direct link to Supported Configuration Update Tools" title="Direct link to Supported Configuration Update Tools" translate="no">‚Äã</a></h2>
<p>Currently, Ansible is supported as a configuration update tool.
This means, ISVs must implement one Ansible playbook for each configuration manager.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ansible-code-location">Ansible Code Location<a href="#ansible-code-location" class="hash-link" aria-label="Direct link to Ansible Code Location" title="Direct link to Ansible Code Location" translate="no">‚Äã</a></h3>
<p>All Ansible code must be stored in a GIT repository and the repository must be reachable from the</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Future plans</div><div class="admonitionContent_BuS1"><p>The plan is to allow to download the scripts from locations other than GIT repositories in future releases.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-python">Install Python<a href="#install-python" class="hash-link" aria-label="Direct link to Install Python" title="Direct link to Install Python" translate="no">‚Äã</a></h3>
<p>Agent which executes the Ansible playbooks expects the required Python version to be already installed.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Use default Python version</div><div class="admonitionContent_BuS1"><p>As a workaround, we can simply use the default Python version that comes with the OS installation and
then have the Python installation task itself as a preparation task in the configuration update playbook and
then use the new version of Python in the actual configuration update tasks.</p><p>But we must then ensure that the Python can be downloaded from a source which is reachable from the compute node.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-ansible">Install Ansible<a href="#install-ansible" class="hash-link" aria-label="Direct link to Install Ansible" title="Direct link to Install Ansible" translate="no">‚Äã</a></h3>
<p>Ansible can be installed in the configuration manager node as part of the service deployment or let the agent
install it as part of the first configuration update request via the dependencies install step documented below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-dependencies">Install Dependencies<a href="#install-dependencies" class="hash-link" aria-label="Direct link to Install Dependencies" title="Direct link to Install Dependencies" translate="no">‚Äã</a></h3>
<p>All Python dependencies can be also be installed using the required Python version.
Agent uses <code>pip install</code> to install Python dependencies from PyPi repository.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Install Dependencies from other sources</div><div class="admonitionContent_BuS1"><p>Instead of using dependencies from PyPi repository, we can also simply put the dependencies in any other
accessible remote directory and let the Ansible playbook to first download and install them.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-inventory">Service Inventory<a href="#service-inventory" class="hash-link" aria-label="Direct link to Service Inventory" title="Direct link to Service Inventory" translate="no">‚Äã</a></h3>
<p>When xpanse returns a configuration change request to the agent, the request also contains the full inventory of the
service in the <strong>Ansible Inventory JSON</strong> format. It can be directly used by the playbooks.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Working with localhost</div><div class="admonitionContent_BuS1"><p>In some cases, the inventory isn&#x27;t needed at all since the Ansible job runs directly on the host.
So simply delegating the playbook to localhost will suffice in such cases.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extra-vars">Extra vars<a href="#extra-vars" class="hash-link" aria-label="Direct link to Extra vars" title="Direct link to Extra vars" translate="no">‚Äã</a></h3>
<p>The requested configuration of the service is returned to the agent which then passes this information to the
Ansible playbook execution as <strong>extra_vars</strong>.</p>
<p>The requested configuration always contains the combined final configuration of the service. This means, the changed
parameters with updated values and the unchanged parameters with the existing values.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Avoid points of failure</div><div class="admonitionContent_BuS1"><p>Even though xpanse supports setting up of complete Ansible environment with the agent,
it&#x27;s always better to prepare all necessary setup required in the configuration manager nodes as part of the
service deployment itself to avoid any unexpected failures. For example, Network Error.</p><p>We can even consider preparing the complete Ansible environment in the VM image that&#x27;s used by the service.</p></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/xpanse/docs/service-changes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Service Changes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/xpanse/docs/service-deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Service Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#service-configuration-details-in-service-template" class="table-of-contents__link toc-highlight">Service Configuration Details in Service Template</a><ul><li><a href="#configuration-managers" class="table-of-contents__link toc-highlight">Configuration Managers</a></li><li><a href="#configuration-parameters" class="table-of-contents__link toc-highlight">Configuration Parameters</a></li><li><a href="#single-configuration-manager" class="table-of-contents__link toc-highlight">Single Configuration Manager</a></li></ul></li><li><a href="#configuration-manager-in-deployment-script" class="table-of-contents__link toc-highlight">Configuration Manager in Deployment Script</a><ul><li><a href="#agent-installation" class="table-of-contents__link toc-highlight">Agent Installation</a></li></ul></li><li><a href="#runonlyonce-parameter" class="table-of-contents__link toc-highlight">runOnlyOnce Parameter</a></li><li><a href="#default-configuration" class="table-of-contents__link toc-highlight">Default Configuration</a></li><li><a href="#supported-configuration-update-tools" class="table-of-contents__link toc-highlight">Supported Configuration Update Tools</a><ul><li><a href="#ansible-code-location" class="table-of-contents__link toc-highlight">Ansible Code Location</a></li><li><a href="#install-python" class="table-of-contents__link toc-highlight">Install Python</a></li><li><a href="#install-ansible" class="table-of-contents__link toc-highlight">Install Ansible</a></li><li><a href="#install-dependencies" class="table-of-contents__link toc-highlight">Install Dependencies</a></li><li><a href="#service-inventory" class="table-of-contents__link toc-highlight">Service Inventory</a></li><li><a href="#extra-vars" class="table-of-contents__link toc-highlight">Extra vars</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/introduction">Getting Started</a></li><li class="footer__item"><a href="https://app.swaggerhub.com/apis/eclipse-xpanse-bot/XpanseRuntimeApi" target="_blank" rel="noopener noreferrer" class="footer__link-item">API<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/eclipse-xpanse/xpanse-website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs Repo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/eclipse-xpanse/xpanse/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Changelog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/new-developers">New Developers</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/code-of-conduct">Code of Conduct</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/planning">Planning</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/continuous-integration">Continuous Integration</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/releases">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/bug-handling-process">Bug Handling Process</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/pull-requests">Pull Requests</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/security">Security</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://projects.eclipse.org/projects/technology.xpanse" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eclipse Foundation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/eclipse-xpanse/xpanse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://accounts.eclipse.org/mailing-list/xpanse-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing Lists<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/#eclipse-xpanse:matrix.eclipse.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Further Reading</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/blog">Blogs</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/FurtherReading/demos">Demos</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/FurtherReading/resources">Resources</a></li><li class="footer__item"><a href="https://events.eclipse.org/2023/unlockthecloud/documents/unlock-the-cloud-interoperability-to-foster-the-eu-digital-market-report.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Impact of Open Services Cloud<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Eclipse Foundation.</div></div></div></footer></div>
</body>
</html>