<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-authentication-authorization">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Authentication and Authorization | xpanse</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://eclipse-xpanse.github.io/xpanse/docs/authentication-authorization"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Authentication and Authorization | xpanse"><meta data-rh="true" name="description" content="With security being at the heart of Xpanse project, all entry points to the application are completely protected."><meta data-rh="true" property="og:description" content="With security being at the heart of Xpanse project, all entry points to the application are completely protected."><link data-rh="true" rel="icon" href="/xpanse/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://eclipse-xpanse.github.io/xpanse/docs/authentication-authorization"><link data-rh="true" rel="alternate" href="https://eclipse-xpanse.github.io/xpanse/docs/authentication-authorization" hreflang="en"><link data-rh="true" rel="alternate" href="https://eclipse-xpanse.github.io/xpanse/docs/authentication-authorization" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/xpanse/blog/rss.xml" title="xpanse RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/xpanse/blog/atom.xml" title="xpanse Atom Feed"><link rel="stylesheet" href="/xpanse/assets/css/styles.d7ac3678.css">
<link rel="preload" href="/xpanse/assets/js/runtime~main.800a506d.js" as="script">
<link rel="preload" href="/xpanse/assets/js/main.14120a1d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/xpanse/"><div class="navbar__logo"><img src="/xpanse/img/logo-header.png" alt="xpanse" class="themedImage_ToTc themedImage--light_HNdA"><img src="/xpanse/img/logo-header.png" alt="xpanse" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/xpanse/docs/api">API</a><a class="navbar__item navbar__link" href="/xpanse/docs/Contribute/calendar">Calendar</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/xpanse/docs/intro">Documentation</a><a href="https://github.com/eclipse-xpanse" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/runtime">Runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/supported-clouds">Supported Clouds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/xpanse/docs/Contribute/new-developers">Contribute</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/xpanse/docs/FurtherReading/resources">FurtherReading</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/xpanse/docs/authentication-authorization">Authentication and Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/credentials-concept">Credentials Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/database">Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/xpanse/docs/ui">UI</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/xpanse/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Authentication and Authorization</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Authentication and Authorization</h1><p>With security being at the heart of Xpanse project, all entry points to the application are completely protected.</p><blockquote><p>To allow seamless enablement of security, by default, the security layer is not enabled. This is useful for development
purposes. For production purposes, the security must be enabled and how it can be done is explained in the next
sections.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="oidc">OIDC<a href="#oidc" class="hash-link" aria-label="Direct link to OIDC" title="Direct link to OIDC">​</a></h2><p>Authentication and Authorization are implemented using OIDC (OpenID Connect). This helps us to outsource the security
layer to an external <code>Identity Provider</code> and thereby not storing any user data within Xpanse.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oidc-providers-and-its-configuration">OIDC Providers and its Configuration<a href="#oidc-providers-and-its-configuration" class="hash-link" aria-label="Direct link to OIDC Providers and its Configuration" title="Direct link to OIDC Providers and its Configuration">​</a></h3><p>Similar to other integrations provided in Xpanse, the runtime can be extended to be integrated with any Identity
Provider that supports OIDC standards. It is not limited to any specific product.</p><p>Any OIDC provider cannot be used directly out of the box. It needs a variety of configurations on the provider. From
Xpanse project, we aim to provide &#x27;Infrastructure as Code&#x27; which will automate all required configuration on the
Identity provider.</p><p>All Identity provider related configuration on consumers can only be obtained only after the OIDC provider is fully
configured with the consumer detail</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="zitadel">Zitadel<a href="#zitadel" class="hash-link" aria-label="Direct link to Zitadel" title="Direct link to Zitadel">​</a></h2><p>As a default implementation, Xpanse runtime is integrated with <a href="https://zitadel.com/" target="_blank" rel="noopener noreferrer">Zitadel</a> Identity Provider.</p><p>To enable Zitadel authentication layer, the runtime must be started with <code>zitadel</code> profile.</p><p>More details can be found <a href="https://github.com/eclipse-xpanse/xpanse#run-with-authorization" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="zitadel-provider-configuration">Zitadel Provider Configuration<a href="#zitadel-provider-configuration" class="hash-link" aria-label="Direct link to Zitadel Provider Configuration" title="Direct link to Zitadel Provider Configuration">​</a></h3><p>After starting the vanilla Zitadel application, all required configurations can be applied using the Terraform scripts
provided. All steps required for initial configuration is
available <a href="https://github.com/eclipse-xpanse/xpanse-iam/blob/main/zitadel/terraform/README.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="zitadel-consumer-configuration">Zitadel Consumer Configuration<a href="#zitadel-consumer-configuration" class="hash-link" aria-label="Direct link to Zitadel Consumer Configuration" title="Direct link to Zitadel Consumer Configuration">​</a></h3><p>All generated configuration details can be obtained as
documented <a href="https://github.com/eclipse-xpanse/xpanse-iam/blob/main/zitadel/terraform/README.md#get-consumer-details" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Runtime can be then started using the consumer details as
documented <a href="https://github.com/eclipse-xpanse/xpanse#run-with-authorization" target="_blank" rel="noopener noreferrer">here</a>.</p><p>UI can be then started using the consumer details as
documented <a href="https://github.com/eclipse-xpanse/xpanse-ui#starting-local-development-server" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="end-users-configuration">End Users Configuration<a href="#end-users-configuration" class="hash-link" aria-label="Direct link to End Users Configuration" title="Direct link to End Users Configuration">​</a></h3><p>At the moment, it is only feasible to create user only via the Zitadel UI as we do not have SMTP available which is
needed for self-registration of users.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="admin-users">Admin Users<a href="#admin-users" class="hash-link" aria-label="Direct link to Admin Users" title="Direct link to Admin Users">​</a></h3><p>By default, Zitadel provides a root user using which other users can be created and also made other administrators. Only
these users can add other end-users on Zitadel.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="role-based-access-control---rbac">Role Based Access Control - RBAC<a href="#role-based-access-control---rbac" class="hash-link" aria-label="Direct link to Role Based Access Control - RBAC" title="Direct link to Role Based Access Control - RBAC">​</a></h2><p>We use OIDC providers to also implement RBAC on Xpanse runtime API and also in UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h3><p>To keep our initial role configuration simple, the following roles are considered</p><blockquote><p><code>user</code> - this is the role allocated to end user.</p><p><code>csp</code> - this is the role allocated to cloud service provider users.</p><p><code>admin</code> - this is the role allocated to administrators running Xpanse.</p><p><strong>Default Role</strong> - When no roles are assigned to a user, then every registered is by default assumed to have
the <code>user</code> role.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="role-assignment">Role Assignment<a href="#role-assignment" class="hash-link" aria-label="Direct link to Role Assignment" title="Direct link to Role Assignment">​</a></h3><p>After the end users are registered/created on Zitadel, the administrator must assign roles to the user.</p><p>This option can be found on the UI under - users -&gt; click on user -&gt; Authorizations -&gt; + New</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="role-validation">Role Validation<a href="#role-validation" class="hash-link" aria-label="Direct link to Role Validation" title="Direct link to Role Validation">​</a></h3><ol><li>Each API method is configured to be allowed only for specific roles. <code>Spring Security</code> fetches the user information
from <code>Identity Provider</code> and based on the roles allocated to the user, we decide if the user is allowed to access an
API or not. If the user is not authorized to access, then API returns HTTP code <code>403</code>.</li><li>Xpanse UI fetches the user information from <code>Identity Provider</code> and based on the roles allocated to the user, menu
options are displayed in the UI.</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/xpanse/docs/FurtherReading/demos"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Demo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/xpanse/docs/credentials-concept"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Credentials Concept</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#oidc" class="table-of-contents__link toc-highlight">OIDC</a><ul><li><a href="#oidc-providers-and-its-configuration" class="table-of-contents__link toc-highlight">OIDC Providers and its Configuration</a></li></ul></li><li><a href="#zitadel" class="table-of-contents__link toc-highlight">Zitadel</a><ul><li><a href="#zitadel-provider-configuration" class="table-of-contents__link toc-highlight">Zitadel Provider Configuration</a></li><li><a href="#zitadel-consumer-configuration" class="table-of-contents__link toc-highlight">Zitadel Consumer Configuration</a></li><li><a href="#end-users-configuration" class="table-of-contents__link toc-highlight">End Users Configuration</a></li><li><a href="#admin-users" class="table-of-contents__link toc-highlight">Admin Users</a></li></ul></li><li><a href="#role-based-access-control---rbac" class="table-of-contents__link toc-highlight">Role Based Access Control - RBAC</a><ul><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li><li><a href="#role-assignment" class="table-of-contents__link toc-highlight">Role Assignment</a></li><li><a href="#role-validation" class="table-of-contents__link toc-highlight">Role Validation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/architecture">Architecture</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/authentication-authorization">Authentication &amp; Authorization</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/credentials-concept">Credentials Concept</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/database">Database</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/plugins">Plugins</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/runtime">Runtime</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/supported-clouds">Supported Clouds</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/ui">UI</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/new-developers">New Developers</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/code-of-conduct">Code of Conduct</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/planning">Planning</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/continuous-integration">Continuous Integration</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/releases">Releases</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/bug-handling-process">Bug Handling Process</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/pull-requests">Pull Requests</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/Contribute/security">Security</a></li></ul></div><div class="col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://projects.eclipse.org/projects/technology.xpanse" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eclipse Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/eclipse-xpanse/xpanse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://accounts.eclipse.org/mailing-list/xpanse-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing Lists<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Further Reading</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/xpanse/blog">Blogs</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/FurtherReading/demos">Demos</a></li><li class="footer__item"><a class="footer__link-item" href="/xpanse/docs/FurtherReading/resources">Resources</a></li><li class="footer__item"><a href="https://events.eclipse.org/2023/unlockthecloud/documents/unlock-the-cloud-interoperability-to-foster-the-eu-digital-market-report.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Impact of Open Services Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Eclipse Foundation.</div></div></div></footer></div>
<script src="/xpanse/assets/js/runtime~main.800a506d.js"></script>
<script src="/xpanse/assets/js/main.14120a1d.js"></script>
</body>
</html>